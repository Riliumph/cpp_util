# モジュロ演算

モジュロ演算は剰余算のことである。

7 mod 6 = 1とかの計算の子と。

## 注意事項

ここで紹介される高速化には、前提条件を置くことで計算量を軽くする方法などがある。  
完全に互換する演算ではないことに注意されたし。

## 高速化方法：ビット演算

ビットマスクを使って高速化を行う。  

> ただし、ビットマスクを使う以上はリングバッファのサイズは2のべき乗に限定される。

buffer_size = 8で実験してみよう。

まず、ビット演算子しやすいように二進数で表現しよう。

8(10) = 1000(2)  

バッファサイズをまず、-1する。

7(10) = 0111(1)

この値とidxをAND演算する。

- `idx: 0(10) = 0000(2)のとき、0111 AND 0000 = 0000 = 0(10)`
- `idx: 2(10) = 0010(2)のとき、0111 AND 0010 = 0010 = 2(10)`
- `idx: 9(10) = 1001(2)のとき、0111 AND 1001 = 0001 = 1(10)`
- `idx:12(10) = 1100(2)のとき、0111 AND 1100 = 0100 = 4(10)`

ただしく計算できている。
